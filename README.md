![Go Version](https://img.shields.io/github/go-mod/go-version/golang/go)
![Kubernetes](https://img.shields.io/badge/kubernetes-operator-blue.svg)
![License: MIT](https://img.shields.io/badge/License-MIT-yellow.svg)


***ê°œì¸ì ì¸ ìš©ë„ë¡œ ì‚¬ìš©í•˜ê¸° ìœ„í•´ ê³„ì†í•´ì„œ ê°œë°œ ì¤‘ì…ë‹ˆë‹¤.***
## ğŸ“‹ K8s-Deploy-Watcher

**K8s-Deploy-Watcher**ëŠ” CI/CD íŒŒì´í”„ë¼ì¸ê³¼ í•¨ê»˜ ë™ì‘í•˜ì—¬ **ì‹¤ì œ ë°°í¬** ìƒíƒœë¥¼ ì¶”ì í•˜ê³ , ë°°í¬ ì‘ì—…ì´ ì„±ê³µì ìœ¼ë¡œ ì™„ë£Œë˜ì—ˆì„ ë•Œ ë˜ëŠ” ì˜¤ë¥˜ê°€ ë°œìƒí–ˆì„ ë•Œ ì•Œë¦¼ì„ ì œê³µí•©ë‹ˆë‹¤.

### ğŸš€ **ì™œ í•„ìš”í•œê°€?**

ê¸°ì¡´ì˜ ë°°í¬ ìƒíƒœ ëª¨ë‹ˆí„°ë§ì€ ë‹¨ìˆœíˆ `Deployment` ë¦¬ì†ŒìŠ¤ì˜ ìƒíƒœë¥¼ í™•ì¸í•˜ì§€ë§Œ, ì´ ì˜¤í¼ë ˆì´í„°ëŠ” **CI/CD íŒŒì´í”„ë¼ì¸ì—ì„œ íŠ¸ë¦¬ê±°ëœ ë°°í¬ ì‘ì—…ì„ ì •í™•í•˜ê²Œ ì¶”ì **í•˜ëŠ” ë° ì¤‘ì ì„ ë‘¡ë‹ˆë‹¤. ì´ë¥¼ í†µí•´ ì‚¬ìš©ìëŠ” ë°°í¬ê°€ ì‹¤ì œë¡œ **ì´ë¯¸ì§€ ì»¤ë°‹ì´ ë³€ê²½**ë˜ì—ˆëŠ”ì§€, **ìŠ¤ì¼€ì¼ë§ ì‘ì—…**ê³¼ëŠ” ë¬´ê´€í•˜ê²Œ **ì •í™•í•œ ë°°í¬ ìƒíƒœ**ë§Œì„ ì¶”ì í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.

### **ì£¼ìš” ê¸°ëŠ¥**

- **CI/CD ë°°í¬ ì¶”ì **: ìƒˆë¡œìš´ ì´ë¯¸ì§€ê°€ ì»¤ë°‹ë˜ê±°ë‚˜ ë°°í¬ê°€ ì‹œì‘ë  ë•Œ ì •í™•íˆ ê·¸ ë°°í¬ ìƒíƒœë¥¼ ì¶”ì í•©ë‹ˆë‹¤.
- **Slack ë° Email ì•Œë¦¼**: ë°°í¬ ì„±ê³µ, ì‹¤íŒ¨ ë“±ì˜ ì´ë²¤íŠ¸ì— ëŒ€í•´ ì‹¤ì‹œê°„ìœ¼ë¡œ ì•Œë¦¼ì„ ë°›ì„ ìˆ˜ ìˆìŠµë‹ˆë‹¤.
- **ìœ ì—°í•œ ë°°í¬ ì¶”ì **: íŠ¹ì • ë„¤ì„ìŠ¤í˜ì´ìŠ¤ì˜ íŠ¹ì • ì• í”Œë¦¬ì¼€ì´ì…˜ë§Œ ì¶”ì í•˜ê±°ë‚˜, ì „ì²´ í´ëŸ¬ìŠ¤í„°ì˜ ë°°í¬ ìƒíƒœë¥¼ ì¶”ì í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.

---

## ğŸ“¦ **êµ¬ì¡°**

í”„ë¡œì íŠ¸ êµ¬ì¡°
```plaintext
k8s-deployment-tracker/
â”œâ”€â”€ config/
â”‚   â”œâ”€â”€ crd/                   # Custom Resource Definition YAML íŒŒì¼
â”‚   â”‚   â””â”€â”€ deployment_tracker.yaml  # CRD ì •ì˜
â”‚   â”œâ”€â”€ rbac/                  # Operatorì˜ ê¶Œí•œ ì„¤ì • (RBAC)
â”‚   â””â”€â”€ samples/               # CR ì˜ˆì œ íŒŒì¼ë“¤
â”‚       â”œâ”€â”€ deployment_tracker_my_app.yaml   # íŠ¹ì • Deployment ì¶”ì  CR ì˜ˆì‹œ
â”‚       â””â”€â”€ deployment_tracker_wildcard.yaml # ë²”ìš© ì¶”ì  CR ì˜ˆì‹œ
â”œâ”€â”€ controllers/
â”‚   â”œâ”€â”€ deployment_tracker.go  # Operator í•µì‹¬ ë¡œì§
â”œâ”€â”€ api/
â”‚   â”œâ”€â”€ v1alpha1/              # CRD ìŠ¤í‚¤ë§ˆ ì •ì˜
â”‚   â””â”€â”€ groupversion_info.go
â”œâ”€â”€ main.go                    # Operator ì§„ì…ì 
â”œâ”€â”€ Dockerfile                 # ë„ì»¤ ì´ë¯¸ì§€ ì„¤ì •
â””â”€â”€ Makefile                   # ë¹Œë“œ, í…ŒìŠ¤íŠ¸ ìë™í™”
```

ë°°í¬ê°€ ì–´ë–»ê²Œ ì´ë£¨ì–´ì§€ê³  K8s-Deploy-Watcherê°€ ì´ë¥¼ ì–´ë–»ê²Œ ì¶”ì í•˜ëŠ”ì§€ ê°„ë‹¨í•œ í…ìŠ¤íŠ¸ ê¸°ë°˜ êµ¬ì¡°ë„ë¡œ ì„¤ëª…í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.
```plaintext
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                         â”‚
â”‚    CI/CD íŒŒì´í”„ë¼ì¸        â”‚
â”‚  (ì´ë¯¸ì§€ ë¹Œë“œ ë° ì»¤ë°‹)       â”‚
â”‚                         â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
               â”‚
               â”‚
               â–¼
   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    ë°°í¬ ì‹œì‘!
   â”‚  Kubernetes Cluster     â”‚â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
   â”‚ (Deployment ìƒì„± ë° ê´€ë¦¬)  â”‚                     â”‚
   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                     â–¼
               â”‚
               â”‚                        â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
               â–¼                        â”‚                        â”‚
      â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”      â”‚  K8s-Deploy-Watcher    â”‚
      â”‚   ì‹¤ì œ ë°°í¬ ìƒíƒœ ì¶”ì          â”‚      â”‚                        â”‚
      â”‚   (ì´ë¯¸ì§€ ì»¤ë°‹ ë³€ê²½ í™•ì¸)     â”‚      â”‚  (ë°°í¬ ì™„ë£Œ ì‹œ ì•Œë¦¼)       â”‚
      â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜      â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
               â”‚                                      â”‚
               â–¼                                      â–¼
   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”            â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
   â”‚   ë°°í¬ ì„±ê³µ ë˜ëŠ” ì‹¤íŒ¨       â”‚            â”‚   Slack ë˜ëŠ” Email ì•Œë¦¼   â”‚
   â”‚    (Running/Succeeded) â”‚            â”‚                        â”‚
   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜            â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

- **CI/CD íŒŒì´í”„ë¼ì¸**: ìƒˆë¡œìš´ ì´ë¯¸ì§€ê°€ ì»¤ë°‹ë˜ê³  ë°°í¬ê°€ ì‹œì‘ë©ë‹ˆë‹¤.
- **Kubernetes Cluster**: í´ëŸ¬ìŠ¤í„°ì—ì„œ ì‹¤ì œë¡œ Deploymentê°€ ì´ë£¨ì–´ì§‘ë‹ˆë‹¤.
- **K8s-Deploy-Watcher**: ì´ OperatorëŠ” ë°°í¬ ìƒíƒœë¥¼ ì¶”ì í•˜ê³ , ë°°í¬ ì™„ë£Œ ì‹œ ì•Œë¦¼ì„ ë°œì†¡í•©ë‹ˆë‹¤.
- **Slack ë˜ëŠ” Email ì•Œë¦¼**: ë°°í¬ê°€ ì™„ë£Œë˜ì—ˆê±°ë‚˜ ì‹¤íŒ¨í–ˆì„ ë•Œ ì‹¤ì‹œê°„ ì•Œë¦¼ì„ ì œê³µí•©ë‹ˆë‹¤.

---

## ğŸ“‹ **ì„¤ì¹˜ ë° ì‚¬ìš©ë²•**

### **1. ì„¤ì¹˜ ë°©ë²•**

1. ì´ ì €ì¥ì†Œë¥¼ í´ë¡ í•©ë‹ˆë‹¤:

   ```bash
   git clone https://github.com/ddukbg/k8s-deploy-watcher.git
   cd k8s-deploy-watcher
   ```

2. ì˜¤í¼ë ˆì´í„°ë¥¼ ë¹Œë“œí•˜ê³  Kubernetes í´ëŸ¬ìŠ¤í„°ì— ë°°í¬í•©ë‹ˆë‹¤:

   ```bash
   # Docker ì´ë¯¸ì§€ ë¹Œë“œ
   make build

   # CRD ë° ì˜¤í¼ë ˆì´í„° ë°°í¬
   make deploy
   ```

3. Custom Resource (CR)ë¥¼ ì ìš©í•˜ì—¬ ë°°í¬ ìƒíƒœë¥¼ ì¶”ì í•©ë‹ˆë‹¤:

   ```bash
   kubectl apply -f config/samples/deployment_tracker_my_app.yaml
   ```

### **2. ì‚¬ìš© ë°©ë²•**

#### íŠ¹ì • ë°°í¬ ì¶”ì 

```yaml
apiVersion: ddukbg/v1alpha1
kind: DeploymentTracker
metadata:
  name: my-app-deployment-tracker
spec:
  deploymentName: my-app
  namespace: default
  notify:
    slack: "https://hooks.slack.com/services/..."
    email: "alert@example.com"
```

#### ëª¨ë“  ë°°í¬ ì¶”ì 

```yaml
apiVersion: ddukbg/v1alpha1
kind: DeploymentTracker
metadata:
  name: all-deployments-tracker
spec:
  notify:
    slack: "https://hooks.slack.com/services/..."
    email: "alert@example.com"
```

---

## âš™ï¸ **ê°œë°œ ë° ê¸°ì—¬**

ì´ ì˜¤í¼ë ˆì´í„°ëŠ” ë¡œì»¬ í™˜ê²½ì—ì„œ ê°œë°œí•  ìˆ˜ ìˆìœ¼ë©°, ê¸°ì—¬ë„ í™˜ì˜í•©ë‹ˆë‹¤:

```bash
# ì˜¤í¼ë ˆì´í„° ë¡œì»¬ ì‹¤í–‰
make run
```

## ğŸ™Œ **ê¸°ì—¬**

ê¸°ì—¬ëŠ” ì–¸ì œë‚˜ í™˜ì˜í•©ë‹ˆë‹¤! ë²„ê·¸ë¥¼ ë°œê²¬í•˜ê±°ë‚˜ ê¸°ëŠ¥ ì œì•ˆì´ ìˆë‹¤ë©´ ì´ìŠˆë¥¼ ìƒì„±í•˜ê±°ë‚˜ í’€ ë¦¬í€˜ìŠ¤íŠ¸ë¥¼ ì œì¶œí•´ ì£¼ì„¸ìš”.

## ğŸ“ **ë¼ì´ì„ ìŠ¤**

ì´ í”„ë¡œì íŠ¸ëŠ” MIT ë¼ì´ì„ ìŠ¤ í•˜ì— ì œê³µë©ë‹ˆë‹¤. ìì„¸í•œ ë‚´ìš©ì€ [LICENSE](LICENSE) íŒŒì¼ì„ ì°¸ê³ í•˜ì„¸ìš”.

## ğŸ’¡ **ê°ì‚¬ì˜ ë§**

- [Kubernetes](https://kubernetes.io/)
- [Go](https://golang.org/)
- [Controller Runtime](https://github.com/kubernetes-sigs/controller-runtime)

